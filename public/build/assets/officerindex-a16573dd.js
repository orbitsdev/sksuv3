import{i as u,v as P,j as Y,O as T,o as a,c as m,w as t,b as e,k as R,l as I,d as n,e as c,a as d,m as j,t as p,F as V,f,u as _,r}from"./app-b374cfa4.js";import{l as J}from"./lodash-39f5e077.js";import{a as z}from"./adminlayout-6a25d3ab.js";import{_ as K}from"./schoolYearSelect-e0ab1d58.js";const Q={class:"mx-auto w-full max-w-xs lg:max-w-md"},W=e("label",{for:"search",class:"sr-only"},"Search",-1),X={class:"relative text-white focus-within:text-gray-600"},Z=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"eveanodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})])],-1),ee={class:"bg-white rounded-xl shadow-xl mx-auto max-w-3xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},se={class:"flex items-center justify-between pt-4"},te={key:0,class:"pr-4"},ae={key:0},oe={class:"truncate text-xs font-medium text-indigo-600 capitalize"},le={class:"text-sm text-gray-900 capitalize"},ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5 mr-2"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),e("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})],-1),re=e("span",{class:""}," Manage Officer ",-1),ie={key:2,class:"mt-6 py-4 bg-white"},ce={class:"p-2"},de=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Requirement Name",-1),ue={class:"mt-1"},me={key:0,class:"text-red-700 text-sm"},pe={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},fe={class:"p-2"},_e=e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])]),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900",id:"modal-title"}," Delete campuses "),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete campus/es ? All of your data will be permanently removed from our servers forever. This action cannot be undone. ")])])],-1),he={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},ve={components:{schoolYearSelect:K,adminlayout:z}},ke=Object.assign(ve,{__name:"officerindex",props:{campuses:Object,filters:Object},setup(M){const g=M,x=u(g.filters.search),h=u(!1),w=u(!1),y=u(!1),k=u([]),N=u(null),b=u(null),l=P({name:"",id:null});Y(x,J.throttle(s=>{T.get(route("officers.index"),{search:s},{preserveState:!0,replace:!0})},500));function $(){l.post(route("requirement.create"),{preserveState:!0,onSuccess:()=>{h.value=!1,l.reset()},onError:s=>{b.value=s}})}function E(){l.post(route("requirement.update"),{preserveState:!0,onSuccess:()=>{l.id=null,h.value=!1,l.reset()},onError:s=>{b.value=s}})}async function A(){N.value=null,y.value=!0;try{const s=await T.post(route("requirement.deleteselected"),{ids:k.value});l.name="",w.value=!1,k.value=[]}catch(s){b.value=s.message}finally{y.value=!1}}return(s,i)=>{const D=r("TableTitle"),S=r("Tcell"),L=r("Link"),q=r("SkTable"),H=r("EmptyCard"),U=r("Pagination"),F=r("Authfield1"),C=r("SkButtonGray"),B=r("SkButton"),O=r("sk-dialog"),G=r("SkDeleteButton");return a(),m(z,null,{search:t(()=>[e("div",Q,[W,e("div",X,[Z,R(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>x.value=o),class:"block w-full rounded-md border border-transparent bg-white bg-opacity-20 py-2 pl-10 pr-3 leading-5 text-white placeholder-white focus:border-transparent focus:bg-opacity-100 focus:text-gray-900 focus:placeholder-gray-500 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Name ",type:"search",name:"search"},null,512),[[I,x.value,void 0,{number:!0}]])])])]),default:t(()=>[e("div",ee,[e("div",se,[n(D,{class:""},{default:t(()=>[c(" Campuses ")]),_:1})]),g.campuses.data.length>0?(a(),m(q,{key:0,headers:["Name","Officers",""]},{default:t(()=>[(a(!0),d(V,null,j(g.campuses.data,o=>(a(),d("tr",{class:"divide-x divide-gray-200",key:o},[n(S,{class:"uppercase align-top pt-2"},{default:t(()=>[c(p(o.name),1)]),_:2},1024),n(S,{class:"align-top pt-2"},{default:t(()=>[c(p(o.campus_advisers)+" ",1),o.campus_adviser!=null?(a(),d("div",te,[o.campus_adviser.officers.length>0?(a(),d("div",ae,[(a(!0),d(V,null,j(o.campus_adviser.officers,v=>(a(),d("div",{class:"border-b mb-1",key:v},[e("p",oe,p(v.position),1),e("dd",le,p(v.user.first_name)+" "+p(v.user.last_name),1)]))),128))])):f("",!0)])):f("",!0)]),_:2},1024),n(S,{class:"flex align-top pt-2 items-center justify-center"},{default:t(()=>[n(L,{href:s.route("officers.manageindex",{campus:o.id}),disabled:k.value.length>0,class:"max-w-40 inline-flex justify-center rounded-md px-4 py-2 font-medium shadow-sm text-sm"},{default:t(()=>[ne,re]),_:2},1032,["href","disabled"])]),_:2},1024)]))),128))]),_:1})):(a(),m(H,{key:1,class:"flex items-center justify-center h-64"})),s.$props.campuses.links.length>0?(a(),d("div",ie,[s.$props.campuses.data.length>0?(a(),m(U,{key:0,class:"block",links:s.$props.campuses.links},null,8,["links"])):f("",!0)])):f("",!0)]),n(O,{transition:"slide-down",persistent:!0,isOpen:h.value},{default:t(()=>[e("main",ce,[e("div",null,[de,e("div",ue,[n(F,{type:"email",autocomplete:"email",modelValue:_(l).name,"onUpdate:modelValue":i[1]||(i[1]=o=>_(l).name=o)},null,8,["modelValue"])]),s.$page.props.errors.name?(a(),d("p",me,p(s.$page.props.errors.name),1)):f("",!0)]),e("div",pe,[n(C,{onClick:i[2]||(i[2]=o=>h.value=!1)},{default:t(()=>[c(" Close ")]),_:1}),_(l).id==null?(a(),m(B,{key:0,onClick:$,processing:_(l).processing},{default:t(()=>[c(" Save")]),_:1},8,["processing"])):(a(),m(B,{key:1,onClick:E,processing:_(l).processing},{default:t(()=>[c(" Update")]),_:1},8,["processing"]))])])]),_:1},8,["isOpen"]),n(O,{transition:"slide-down",persistent:!0,isOpen:w.value},{default:t(()=>[e("main",fe,[_e,e("div",he,[n(G,{onClick:A,processing:y.value,class:"w-24"},{default:t(()=>[c(" Yes ")]),_:1},8,["processing"]),n(C,{onClick:i[3]||(i[3]=o=>w.value=!1),c:"w-24"},{default:t(()=>[c(" No ")]),_:1})])])]),_:1},8,["isOpen"])]),_:1})}}});export{ke as default};
