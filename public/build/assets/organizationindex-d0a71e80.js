import{i as d,v as te,j as ae,O as F,o as n,a as c,d as t,w as a,b as e,k as T,l as $,c as V,e as p,f as w,F as b,m as A,t as f,u as v,r}from"./app-7faee9a2.js";import{l as oe}from"./lodash-444c3020.js";import{a as H}from"./adminlayout-baa1c617.js";import{_ as ne,m as le}from"./manageApplicationCard-c8471da9.js";const re={class:"mx-auto w-full max-w-xs lg:max-w-md"},ie=e("label",{for:"search",class:"sr-only"},"Search",-1),ce={class:"relative text-white focus-within:text-gray-600"},de=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"eveanodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})])],-1),ue={class:"bg-white rounded-xl shadow-xl mx-auto max-w-3xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},pe={class:"pt-4 flex items-center justify-between"},_e=e("p",{class:"text-xl text-green-800 font-bold font-rubik uppercase"},"Organizations",-1),me={class:"flex items-center"},ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5 mr-2 text-rose-700"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z","clip-rule":"evenodd"})],-1),he={class:"text-gray-600 leading-5 uppercase text-sm"},ge={class:"text-gray-600 leading-5 uppercase text-sm"},fe={class:"whitespace-normal"},xe=e("div",{class:"flex items-center mb-2 justify-end"},[e("p",{class:"text-sm uppercase font-medium px-3 text-gray-600"},"Details"),e("div",{class:"inline-block rounded-full p-2 bg-blue-50 text-blue-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M6.32 2.577a49.255 49.255 0 0111.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 01-1.085.67L12 18.089l-7.165 3.583A.75.75 0 013.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93z","clip-rule":"evenodd"})])])],-1),we={class:"border-b pb-3"},be={class:"px-2 mb-6"},ye={class:"text-gray-600 leading-5 uppercase text-sm"},ke=e("p",{class:"text-xs min-sk-w-t text-gray-500 leading-4"}," ( Organizaiton name ) ",-1),ze={class:"mt-3 border-b pb-3"},Ce=e("div",{class:"flex items-center mb-2 justify-end"},[e("p",{class:"text-sm uppercase font-medium text-gray-600"}," Requirements "),e("div",{class:"inline-block rounded-full p-2 bg-emerald-50 text-emerald-400 ml-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zm9.586 4.594a.75.75 0 00-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 00-1.06 1.06l1.5 1.5a.75.75 0 001.116-.062l3-3.75z","clip-rule":"evenodd"}),p(" git ")])])],-1),Se={key:0},Ae={class:"mx-1 normal"},Me={class:""},je={class:"mt-2"},Oe=e("div",{class:"flex items-center mb-2 justify-end"},[e("p",{class:"text-sm uppercase font-medium text-gray-600"},"Files"),e("div",{class:"inline-block rounded-full p-2 bg-purple-50 text-purple-400 ml-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{d:"M19.906 9c.382 0 .749.057 1.094.162V9a3 3 0 00-3-3h-3.879a.75.75 0 01-.53-.22L11.47 3.66A2.25 2.25 0 009.879 3H6a3 3 0 00-3 3v3.162A3.756 3.756 0 014.094 9h15.812zM4.094 10.5a2.25 2.25 0 00-2.227 2.568l.857 6A2.25 2.25 0 004.951 21H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-2.227-2.568H4.094z"})])])],-1),Be={class:"border-b mb-1"},Ve={key:0},De=["file"],Le={class:"whitespace-normal mb-2"},Ee=e("div",{class:"flex items-center mb-2 justify-end"},[e("p",{class:"text-sm uppercase font-medium px-3 text-gray-600"}," Approvals "),e("div",{class:"inline-block rounded-full p-2 bg-orange-50 text-orange-300"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{d:"M12.378 1.602a.75.75 0 00-.756 0L3 6.632l9 5.25 9-5.25-8.622-5.03zM21.75 7.93l-9 5.25v9l8.628-5.032a.75.75 0 00.372-.648V7.93zM11.25 22.18v-9l-9-5.25v8.57a.75.75 0 00.372.648l8.628 5.033z"})])])],-1),Fe={class:"mt-2 rounded-lg bg-gray-200 p-2"},Te={class:"p-4 bg-white rounded"},$e=e("p",{class:"text-gray-600 leading-5 uppercase text-sm text-center"}," Campus Adviser ",-1),He={class:"mt-2 text-center"},Ne={class:"mt-2 rounded-lg bg-gray-200 p-2"},Ue={class:"p-4 bg-white rounded"},qe=e("p",{class:"text-gray-600 leading-5 uppercase text-sm text-center"}," Campus Director ",-1),Ye={class:"mt-2 text-center"},Ge={class:"mt-2 rounded-lg bg-gray-200 p-2"},Pe={class:"p-4 bg-white rounded"},Re=e("p",{class:"text-gray-600 leading-5 uppercase text-sm text-center"}," YOU ",-1),Ie={class:"mt-2 text-center"},Je={class:"mt-2 rounded-lg bg-gray-200 p-2"},Ke={class:"p-4 bg-white rounded"},Qe=e("p",{class:"text-gray-600 leading-5 uppercase text-sm text-center"}," YOU ",-1),We={class:"mt-2 text-center"},Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5 mr-2"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),e("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})],-1),Ze=e("span",{class:""}," Decide ",-1),es={class:""},ss=e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])]),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900",id:"modal-title"}," Delete requirements "),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete campus/es ? All of your data will be permanently removed from our servers forever. This action cannot be undone. ")])])],-1),ts={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},as={class:"p-2"},os={class:"grid grid-cols-1"},ns=["disabled"],ls={class:"col-span-1 h-40 flex items-center justify-center flex-col"},rs=e("p",{class:"text-2xl mt-2"},"Approve",-1),is=["disabled"],cs={class:"col-span-1 h-40 flex items-center justify-center flex-col"},ds=e("p",{class:"text-2xl mt-2"},"Deny",-1),us={class:"mt-5 flex items-center justify-end"},ps={class:"p-2"},_s=e("div",{tabindex:"0",class:"focus:outline-none text-sm bg-indigo-100 text-indigo-700 dark:text-indigo-600 rounded font-medium p-2"}," Please specify if there is a mistake or missing files in the information This way, the applicant can correct and resubmit the application for your review. ",-1),ms=e("label",{for:"comment",class:"block font-medium text-gray-700"},"Remark",-1),vs={class:"mt-1"},hs={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},gs={class:"flex items-center justify-center"},fs=e("p",{class:""},"Updating",-1),xs={components:{campusAdviserSelect:ne,adminlayout:H,manageApplicationCard:le}},zs=Object.assign(xs,{__name:"organizationindex",props:{organizations:Object,filters:Object},setup(N){const D=N,M=d("");d(!1);const x=d(""),u=d(!1),_=d(!1),y=d(!1),j=d(!1),U=d(!1),k=d([]),z=d(null),O=d(null),l=te({comment:"",approver_type:"vpa",item_id:null,id:null});ae(M,oe.throttle(i=>{F.get(route("vpa.organization.index"),{search:i},{preserveState:!0,replace:!0})},500));function q(){l.post(route("organization.application.approve"),{preserveState:!0,onSuccess:()=>{u.value=!1,l.reset()},onError:i=>{O.value=i},onFinish:()=>{u.value=!1,l.reset()}})}function Y(){l.post(route("organization.application.deny"),{preserveState:!0,onStart:()=>{_.value=!1},onSuccess:()=>{u.value=!1,_.value=!1,l.reset()},onError:i=>{O.value=i,u.value=!1,_.value=!1},onFinish:()=>{u.value=!1,_.value=!1,l.reset()}})}function L(i){x.value=i,x.value==="approve"&&q(),x.value==="deny"&&(_.value=!0)}async function G(){z.value=null,j.value=!0;try{const i=await F.post(route("application.deleteselected"),{ids:k.value});l.comment="",y.value=!1,k.value=[]}catch(i){O.value=i.message}finally{j.value=!1}}function P(i){u.value=!0,z.value=i,l.id=i.id}return(i,o)=>{const R=r("sk-button2"),h=r("Tcell"),I=r("FileViewLink"),C=r("ApproveCard"),E=r("EndorsementCard"),S=r("SkButtonGray"),J=r("SkTable"),K=r("EmptyCard"),Q=r("SkDeleteButton"),B=r("sk-dialog"),W=r("thumbsUpSvg"),X=r("thumbsDownSvg"),Z=r("sk-delete-button"),ee=r("w-progress"),se=r("SkDialog");return n(),c(b,null,[t(H,null,{search:a(()=>[e("div",re,[ie,e("div",ce,[de,T(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>M.value=s),class:"block w-full rounded-md border border-transparent bg-white bg-opacity-20 py-2 pl-10 pr-3 leading-5 text-white placeholder-white focus:border-transparent focus:bg-opacity-100 focus:text-gray-900 focus:placeholder-gray-500 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Search ",type:"search",name:"search"},null,512),[[$,M.value,void 0,{number:!0}]])])])]),default:a(()=>[e("div",ue,[e("div",pe,[_e,e("div",me,[k.value.length>0?(n(),V(R,{key:0,onClick:o[1]||(o[1]=s=>y.value=!0),c:"bg-white border",class:"w-40 flex items-center justify-center mr-2 h-10"},{default:a(()=>[ve,p(" Delete Selected ")]),_:1})):w("",!0)])]),D.organizations.data.length>0?(n(),V(J,{key:0,headers:["","Adviser","School Year","Document Information","Application Process Status",""]},{default:a(()=>[(n(!0),c(b,null,A(D.organizations.data,s=>(n(),c("tr",{class:"divide-x divide-gray-200",key:s},[t(h),t(h,{class:"align-top"},{default:a(()=>[e("p",he,f(s.campus_adviser.user!=null?s.campus_adviser.user.first_name+" "+s.campus_adviser.user.last_name:"None"),1)]),_:2},1024),t(h,{class:"align-top"},{default:a(()=>[e("p",ge,f(s.campus_adviser.school_year!=null?s.campus_adviser.school_year.from+" - "+s.campus_adviser.school_year.to:"None"),1)]),_:2},1024),t(h,{class:"align-top"},{default:a(()=>[e("aside",fe,[xe,e("div",we,[e("div",be,[e("p",ye,f(s.name),1),ke])]),e("div",ze,[Ce,s.organization_requirements.length>0?(n(),c("div",Se,[(n(!0),c(b,null,A(s.organization_requirements,(m,g)=>(n(),c("p",{class:"text-sm min-sk-w-t text-gray-600 leading-5 mb-1",key:m},[e("span",Ae,f(g+1)+". ",1),e("span",Me,f(m.requirement.name),1)]))),128))])):w("",!0)])]),e("aside",je,[Oe,e("div",Be,[(n(!0),c(b,null,A(s.organization_requirements,m=>(n(),c("div",{class:"whitespace-normal mb-1",key:m},[m.file.length>0?(n(),c("div",Ve,[(n(!0),c(b,null,A(m.file,g=>(n(),c("div",{key:g,file:g},[t(I,{href:g.file_url,target:"_blank",class:"mb-1"},{default:a(()=>[p(f(g.file_name),1)]),_:2},1032,["href"])],8,De))),128))])):w("",!0)]))),128))])])]),_:2},1024),t(h,{colspan:"1 ",class:"sk-th-min-w"},{default:a(()=>[e("aside",Le,[Ee,e("div",Fe,[e("div",Te,[$e,e("div",He,[t(C,{status:s.organization_process.campus_adviser_approved_status},null,8,["status"]),t(E,{status:s.organization_process.campus_adviser_endorsed_status},null,8,["status"])])])]),e("div",Ne,[e("div",Ue,[qe,e("div",Ye,[t(C,{status:s.organization_process.campus_director_approved_status},null,8,["status"])])])]),e("div",Ge,[e("div",Pe,[Re,e("div",Ie,[t(C,{status:s.organization_process.osas_approved_status},null,8,["status"]),t(E,{status:s.organization_process.osas_endorsed_status},null,8,["status"])])])]),e("div",Je,[e("div",Ke,[Qe,e("div",We,[t(C,{status:s.organization_process.vpa_approved_status},null,8,["status"])])])])])]),_:2},1024),t(h,{class:"flex items-center justify-center align-top pt-2"},{default:a(()=>[t(S,{disabled:k.value.length>0,class:"max-w-40 mr-2",onClick:m=>P(s)},{default:a(()=>[Xe,Ze]),_:2},1032,["disabled","onClick"])]),_:2},1024)]))),128))]),_:1})):(n(),V(K,{key:1,class:"flex items-center justify-center h-64"}))]),t(B,{transition:"slide-down",persistent:!0,isOpen:y.value},{default:a(()=>[e("main",es,[ss,e("div",ts,[t(Q,{onClick:G,processing:j.value,class:"w-24"},{default:a(()=>[p(" Yes ")]),_:1},8,["processing"]),t(S,{onClick:o[2]||(o[2]=s=>y.value=!1),c:"w-24"},{default:a(()=>[p(" No ")]),_:1})])])]),_:1},8,["isOpen"]),t(B,{transition:"slide-down",persistent:!0,width:"540",isOpen:u.value},{default:a(()=>[e("main",as,[e("div",os,[z.value.organization_process.vpa_approved_status!="approved"?(n(),c("button",{key:0,disabled:v(l).processing,onClick:o[3]||(o[3]=s=>L("approve")),class:"border rounded-lg hover:scale-95 transition-all ease-in-out hover:bg-green-700 bg-green-600 text-white"},[e("div",ls,[t(W,{active:v(l).processing&&x.value=="approve"},null,8,["active"]),rs])],8,ns)):w("",!0),z.value.organization_process.vpa_approved_status!="denied"?(n(),c("button",{key:1,disabled:v(l).processing,onClick:o[4]||(o[4]=s=>L("deny")),class:"border rounded-lg hover:scale-95 transition-all ease-in-out hover:bg-red-800 bg-red-700 text-white"},[e("div",cs,[t(X,{active:v(l).processing&&x.value=="deny"},null,8,["active"]),ds])],8,is)):w("",!0)]),e("div",us,[t(S,{class:"w-40 mr-4",onClick:o[5]||(o[5]=s=>u.value=!1)},{default:a(()=>[p(" Close ")]),_:1})])])]),_:1},8,["isOpen"]),t(B,{transition:"slide-down",persistent:!0,width:"640",isOpen:_.value},{default:a(()=>[e("main",ps,[e("div",null,[_s,ms,e("div",vs,[T(e("textarea",{rows:"4","onUpdate:modelValue":o[6]||(o[6]=s=>v(l).comment=s),class:"p-2 block w-full rounded-md border shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[$,v(l).comment]])])]),e("div",hs,[t(S,{onClick:o[7]||(o[7]=s=>_.value=!1)},{default:a(()=>[p(" Close ")]),_:1}),t(Z,{onClick:Y,processing:v(l).processing},{default:a(()=>[p(" Submit ")]),_:1},8,["processing"])])])]),_:1},8,["isOpen"])]),_:1}),t(se,{persistent:!0,isOpen:U.value,width:"260"},{default:a(()=>[e("div",gs,[t(ee,{size:"24",class:"text-green-900 mr-8",color:"green",circle:""}),fs])]),_:1},8,["isOpen"])],64)}}});export{zs as default};
